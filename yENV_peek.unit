#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [0c]  (PEEK) verify peeking at files                                     0s   peek            yENV_peekier                                                                 ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   char       *x_samp  = "/tmp/yurg_theia.txt";                                                                                                                                                                               
     local    create working variable              - - - - - - - - - - - - -   char       x_recd [LEN_RECD] = "";                                                                                                                                                                                         
     exec     call remove                          yENV_rm                     x_samp                                                                                                c_equal     '-'                                                                                                  

   COND       create sample file                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call remove                          yENV_rm                     x_samp                                                                                                c_equal     '-'                                                                                                  
     file     create and clear script file         - - - - - - - - - - - - -   [[ x_samp ]]                                                                                                                                                                                                               
     append   add lines                            - - - - - - - - - - - - -   # theia is the greek titan of sight and the shinning light of the clear blue sky                                                                                                                                                                                                                                   
     append   add lines                            - - - - - - - - - - - - -                                                                                                                                                                                                                                                                                                                      
     append   add lines                            - - - - - - - - - - - - -   # UNITTEST §     § ===[ LOCKED ]======= § t § -0----black----8- §
     append   add lines                            - - - - - - - - - - - - -   # rec type § hex § ---scheme-name------ § y §   norm  §  bright §
     append   add lines                            - - - - - - - - - - - - -   foreground § õ60 § unit test mine       § c § õ553311 § õcc8855 §
     append   add lines                            - - - - - - - - - - - - -   foreground § õ61 § unit test classic    § - § õ000000 § õ404040 §
     append   add lines                            - - - - - - - - - - - - -   foreground § õ62 § unit test mega       § f § õ881066 § õdd20aa §
     append   add lines                            - - - - - - - - - - - - -                                                                                                                                                                                                                                                                                                                      
     append   add lines                            - - - - - - - - - - - - -   # end-of-file.  done, finito, completare, whimper [Ï´···                                                                                                                                                                                                                                                           
     exec     call lines                           yENV_lines                  x_samp                                                                                                i_equal     9

   COND       verify various styles                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call peek                            yENV_peek                   x_samp             , 0                                                                                w_equal     å# theia is the greek titan of sight and the shinning light of the clear blue skyæ                                                                                                 
     exec     call peek                            yENV_peek_vis               x_samp             , 0                                                                                w_equal     å#²theia²is²the²greek²titan²of²sight²and²the²shinning²light²of²the²clear²blue²skyæ                                                                                                 
     exec     call peek                            yENV_peek_field             x_samp             , 0                                                                                w_equal     å# theia is the greek titan of sight and the shinning light of the clear blue skyæ                                                                                                 

   COND       verify ordinal access                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call peek                            yENV_peek_vis               x_samp             , 0                                                                                w_equal     å#²theia²is²the²greek²titan²of²sight²and²the²shinning²light²of²the²clear²blue²skyæ                                                                                                 
     exec     call peek                            yENV_peek_vis               x_samp             , 2                                                                                w_equal     å#²UNITTEST²§²²²²²§²===[²LOCKED²]=======²§²t²§²-0----black----8-²§æ
     exec     call peek                            yENV_peek_vis               x_samp             , 4                                                                                w_equal     åforeground²§²õ60²§²unit²test²mine²²²²²²²§²c²§²õ553311²§²õcc8855²§æ
     exec     call peek                            yENV_peek_vis               x_samp             , 6                                                                                w_equal     åforeground²§²õ62²§²unit²test²mega²²²²²²²§²f²§²õ881066²§²õdd20aa²§æ
     exec     call peek                            yENV_peek_vis               x_samp             , 8                                                                                w_equal     å#²end-of-file.²²done,²finito,²completare,²whimper²[Ï´···æ
     exec     call peek                            yENV_peek_vis               x_samp             , 9                                                                                w_equal     å(n/a)æ                                                       

   COND       verify cursoring                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call peek                            yENV_peek_vis               x_samp             , YDLST_HEAD                                                                       w_equal     å#²theia²is²the²greek²titan²of²sight²and²the²shinning²light²of²the²clear²blue²skyæ                                                                                                 
     exec     call peek                            yENV_peek_vis               x_samp             , YDLST_NEXT                                                                       w_equal     åæ                                                                                                                                                                                 
     exec     call peek                            yENV_peek_vis               x_samp             , YDLST_NEXT                                                                       w_equal     å#²UNITTEST²§²²²²²§²===[²LOCKED²]=======²§²t²§²-0----black----8-²§æ
     exec     call peek                            yENV_peek_vis               x_samp             , YDLST_NEXT                                                                       w_equal     å#²rec²type²§²hex²§²---scheme-name------²§²y²§²²²norm²²§²²bright²§æ
     exec     call peek                            yENV_peek_vis               x_samp             , YDLST_NEXT                                                                       w_equal     åforeground²§²õ60²§²unit²test²mine²²²²²²²§²c²§²õ553311²§²õcc8855²§æ
     exec     call peek                            yENV_peek_vis               x_samp             , YDLST_TAIL                                                                       w_equal     å#²end-of-file.²²done,²finito,²completare,²whimper²[Ï´···æ
     exec     call peek                            yENV_peek_vis               x_samp             , YDLST_PREV                                                                       w_equal     åæ                                                                                                                                                                                 
     exec     call peek                            yENV_peek_vis               x_samp             , YDLST_PREV                                                                       w_equal     åforeground²§²õ62²§²unit²test²mega²²²²²²²§²f²§²õ881066²§²õdd20aa²§æ
     exec     call peek                            yENV_peek_vis               x_samp             , YDLST_TAIL                                                                       w_equal     å#²end-of-file.²²done,²finito,²completare,²whimper²[Ï´···æ
     exec     call peek                            yENV_peek_vis               x_samp             , YDLST_NEXT                                                                       w_equal     å(n/a)æ                                                       

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    



